<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erridian OS 95</title>
    <style>
        /* --- –®—Ä–∏—Ñ—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ --- */
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            --win-gray: #c0c0c0;
            --win-border-light: #ffffff;
            --win-border-dark: #808080;
            --win-border-black: #000000;
            --win-blue: #000080;
            --vapor-pink: #ff71ce;
            --vapor-blue: #01cdfe;
            --vapor-purple: #b967ff;
            --text-color: #000;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: 'VT323', monospace;
            height: 100vh; overflow: hidden;
            user-select: none; font-size: 18px;
            background-color: #000;
        }

        /* --- –§–û–ù–û–í–´–ï –°–õ–û–ò --- */
        #bg-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; transition: background 0.5s;
        }

        /* –¢–µ–º–∞ 1: Vapor Grid */
        .theme-grid {
            background: linear-gradient(to bottom, #010a10 0%, #2f1138 75%, #561845 100%);
            perspective: 500px; overflow: hidden;
        }
        .sun {
            position: absolute; top: 10%; left: 50%;
            transform: translate(-50%, 0);
            width: 200px; height: 200px;
            border-radius: 50%;
            background: linear-gradient(to bottom, #ffed00 0%, #ff0055 100%);
            box-shadow: 0 0 40px #ff0055;
            display: none;
        }
        .theme-grid .sun { display: block; }
        
        .grid-plane {
            position: absolute; bottom: -30%; left: -50%; width: 200%; height: 100%;
            background-image: 
                linear-gradient(rgba(255, 113, 206, 0.4) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 113, 206, 0.4) 1px, transparent 1px);
            background-size: 40px 40px;
            transform: rotateX(60deg);
            animation: gridMove 20s linear infinite;
            display: none;
        }
        .theme-grid .grid-plane { display: block; }

        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 0 400px; }
        }

        /* –î—Ä—É–≥–∏–µ —Ç–µ–º—ã */
        .theme-pastel { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); }
        .theme-classic { background-color: #008080; }
        .theme-night {
            background: #1a0b2e;
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
            radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px);
            background-size: 550px 550px, 350px 350px;
        }

        /* --- BIOS SCREEN --- */
        #boot-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000; color: #ddd; z-index: 5000;
            padding: 20px; font-family: 'VT323', monospace; font-size: 20px;
            display: flex; flex-direction: column; cursor: none;
        }
        .bios-header { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .energy-star-logo { font-size: 40px; color: var(--vapor-pink); }
        .bios-text { margin-bottom: 5px; text-shadow: 0 0 5px var(--vapor-blue); }
        .bios-bottom { position: absolute; bottom: 20px; left: 20px; }

        /* --- UI COMPONENTS --- */
        .desktop {
            position: relative; width: 100%; height: calc(100vh - 40px);
            padding: 20px; display: flex; flex-direction: column; flex-wrap: wrap;
            align-content: flex-start; gap: 20px; opacity: 0; transition: opacity 1s;
        }

        .icon {
            width: 80px; text-align: center; cursor: pointer; color: #fff;
            text-shadow: 1px 1px 0 #000; display: flex; flex-direction: column; align-items: center;
        }
        .icon:active .icon-text { background-color: var(--win-blue); border: 1px dotted white; }
        .icon-img { width: 48px; height: 48px; background-size: contain; background-repeat: no-repeat; margin-bottom: 5px; image-rendering: pixelated; }

        /* SVG –ò–∫–æ–Ω–∫–∏ */
        .icon-comp { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üíª</text></svg>'); }
        .icon-fold { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üìÅ</text></svg>'); }
        .icon-web { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üåê</text></svg>'); }
        .icon-err { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üìÑ</text></svg>'); }
        .icon-set { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üì∫</text></svg>'); }
        .icon-mus { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üéµ</text></svg>'); }

        /* --- –û–∫–Ω–∞ --- */
        .window {
            position: absolute; background-color: var(--win-gray);
            border: 2px solid; border-color: var(--win-border-light) var(--win-border-black) var(--win-border-black) var(--win-border-light);
            box-shadow: 2px 2px 0 var(--win-border-dark); min-width: 300px;
            display: none; flex-direction: column;
        }
        .window.active { z-index: 100; }

        .title-bar {
            background: linear-gradient(90deg, var(--win-blue), #1084d0);
            padding: 3px 5px; display: flex; justify-content: space-between; align-items: center;
        }
        .vapor-title { background: linear-gradient(90deg, var(--vapor-pink), var(--vapor-purple)); }
        
        .title-bar-text { color: white; font-weight: bold; margin-left: 2px; }
        .title-bar-controls button {
            width: 16px; height: 14px; background-color: var(--win-gray);
            border: 1px solid; border-color: var(--win-border-light) var(--win-border-black) var(--win-border-black) var(--win-border-light);
            font-size: 9px; line-height: 8px; font-weight: bold; cursor: pointer;
        }
        .title-bar-controls button:active { border-color: var(--win-border-black) var(--win-border-light) var(--win-border-light) var(--win-border-black); }

        .window-body { padding: 15px; font-size: 18px; color: black; overflow-y: auto; max-height: 400px; }
        .window-body a { color: blue; text-decoration: underline; cursor: pointer;}

        /* --- –ü–ª–µ–µ—Ä (WinAmp Style) --- */
        .winamp-body { background: #222; color: #0f0; padding: 10px; font-family: monospace; }
        .player-screen {
            background: #000; border: 2px inset #555; padding: 5px; margin-bottom: 10px;
            height: 30px; overflow: hidden; white-space: nowrap; display: flex; align-items: center;
        }
        .player-controls { display: flex; gap: 5px; flex-wrap: wrap; }
        .player-btn {
            background: linear-gradient(#eee, #ccc); border: 1px outset #fff;
            padding: 5px 10px; font-size: 14px; cursor: pointer; min-width: 60px; color: black;
        }
        .player-btn:active { border: 1px inset #fff; }
        
        /* Volume Control (simple) */
        .volume-control { margin-top: 10px; display: flex; align-items: center; gap: 5px; color: #0f0; font-size: 14px; }
        input[type="range"] { width: 100px; cursor: pointer; }

        /* --- –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á --- */
        .taskbar {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 35px;
            background-color: var(--win-gray); border-top: 2px solid var(--win-border-light);
            display: flex; align-items: center; padding: 2px; z-index: 1000;
            opacity: 0; transition: opacity 1s;
        }
        .start-btn {
            display: flex; align-items: center; height: 26px; padding: 0 5px;
            background-color: var(--win-gray); border: 2px outset #fff;
            font-weight: bold; font-family: inherit; font-size: 16px; cursor: pointer;
        }
        .start-btn:active, .start-btn.active { border: 2px inset #fff; }
        .start-btn img { width: 18px; margin-right: 5px; }
        .clock { margin-left: auto; border: 2px inset #fff; padding: 0 10px; height: 26px; display: flex; align-items: center; background: #fff; font-size: 16px; }

        /* --- –ú–µ–Ω—é –ø—É—Å–∫ --- */
        .start-menu {
            position: absolute; bottom: 37px; left: 2px; width: 200px;
            background-color: var(--win-gray); border: 2px outset #fff;
            display: none; flex-direction: column; z-index: 1001;
        }
        .sidebar { width: 25px; background: #000080; position: absolute; left: 0; top: 0; bottom: 0; display: flex; align-items: flex-end; }
        .sidebar-text { transform: rotate(-90deg); transform-origin: left top; color: white; font-weight: bold; font-size: 20px; margin-left: 3px; margin-bottom: 5px; }
        .menu-items { margin-left: 25px; display: flex; flex-direction: column; }
        .menu-item { padding: 8px 15px; cursor: pointer; color: black; }
        .menu-item:hover { background-color: var(--win-blue); color: white; }

        /* --- –≠—Ñ—Ñ–µ–∫—Ç—ã --- */
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 4px; pointer-events: none; z-index: 9999;
        }
        .radio-group label { display: block; margin: 5px 0; cursor: pointer; }

        @media (max-width: 600px) {
            .window { width: 95% !important; left: 2.5% !important; top: 50px !important; }
            .bios-header { flex-direction: column-reverse; }
        }
    </style>
</head>
<body>

    <div class="scanlines"></div>

    <!-- –°–õ–û–ô –§–û–ù–ê -->
    <div id="bg-layer" class="theme-grid">
        <div class="sun"></div>
        <div class="grid-plane"></div>
    </div>

    <!-- BIOS BOOT SCREEN -->
    <div id="boot-screen">
        <div class="bios-header">
            <div>
                <div class="bios-text">ERRIDIAN MODULAR BIOS v4.51PG</div>
                <div class="bios-text" style="color: var(--vapor-pink);">Copyright (C) 1984-2025, Erridian Systems Inc.</div>
            </div>
            <div style="border: 2px solid white; padding: 5px;">
                <span class="energy-star-logo">‚òÖ</span> ENERGY
            </div>
        </div>
        <div class="bios-text">CPU: Vaporwave Edition 420MHz</div>
        <div class="bios-text" id="memory-check">Memory Test: 0 KB</div>
        <div id="bios-details"></div>
        <div class="bios-bottom">
            <div class="bios-text">Press <strong>DEL</strong> to enter SETUP</div>
            <div class="bios-text">07/21/2025-i440LX-ERRIDIAN-00</div>
        </div>
    </div>

    <!-- –†–ê–ë–û–ß–ò–ô –°–¢–û–õ -->
    <div class="desktop" id="desktop">
        <div class="icon" onclick="openWindow('about')">
            <div class="icon-comp icon-img"></div>
            <div class="icon-text">–û —Å–µ–±–µ</div>
        </div>
        <div class="icon" onclick="openWindow('projects')">
            <div class="icon-fold icon-img"></div>
            <div class="icon-text">–ü—Ä–æ–µ–∫—Ç—ã</div>
        </div>
        <div class="icon" onclick="openWindow('socials')">
            <div class="icon-web icon-img"></div>
            <div class="icon-text">–°–æ—Ü—Å–µ—Ç–∏</div>
        </div>
        <div class="icon" onclick="openWindow('settings')">
            <div class="icon-set icon-img"></div>
            <div class="icon-text">–°–≤–æ–π—Å—Ç–≤–∞</div>
        </div>
        <div class="icon" onclick="openWindow('player')">
            <div class="icon-mus icon-img"></div>
            <div class="icon-text">–†–∞–¥–∏–æ</div>
        </div>
        <div class="icon" onclick="openWindow('error')">
            <div class="icon-err icon-img"></div>
            <div class="icon-text">error.log</div>
        </div>
    </div>

    <!-- –û–ö–ù–ê -->
    
    <!-- –û —Å–µ–±–µ -->
    <div class="window" id="about" style="top: 30px; left: 50px; width: 400px;">
        <div class="title-bar vapor-title" onmousedown="dragMouseDown(event, 'about')">
            <div class="title-bar-text">Erridian.txt</div>
            <div class="title-bar-controls"><button onclick="closeWindow('about')">X</button></div>
        </div>
        <div class="window-body">
            <pre style="color: var(--vapor-purple); font-size: 10px;">
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó
  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë
  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë
  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù
            </pre>
            <p><strong>–ü—Ä–∏–≤–µ—Ç!</strong></p>
            <p>–ó–≤–∞—Ç—å –º–µ–Ω—è [Name]. –û —á–µ–º –º–æ–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è –≤–∑–≥–ª—è–Ω—É–≤ –Ω–∞ –º–æ–∏ —Å–æ—Ü —Å–µ—Ç–∏.</p>
            <p>–ó–∞–Ω–∏–º–∞—é—Å—å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—â–∞–º–∏. –û—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö, –¥–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã—Ö...¬ª</p>
			<p>–ê-–∫—Ö–µ–º...</p>
        </div>
    </div>

    <!-- –ü—Ä–æ–µ–∫—Ç—ã -->
    <div class="window" id="projects" style="top: 60px; left: 100px; width: 350px;">
        <div class="title-bar vapor-title" onmousedown="dragMouseDown(event, 'projects')">
            <div class="title-bar-text">Projects</div>
            <div class="title-bar-controls"><button onclick="closeWindow('projects')">X</button></div>
        </div>
        <div class="window-body">
            <p>üìÇ <strong>–ú–æ–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</strong></p>
            <ul>
                <li><a href="#">–õ–∏—á–Ω—ã–π –±–ª–æ–≥</a></li>
                <li><a href="#">GitHub –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏</a></li>
            </ul>
            <hr>
            <p>üìÇ <strong>–ü–µ—Ä–µ–≤–æ–¥—ã:</strong></p>
            <ul>
                <li>MangaLib / Usagi Team</li>
            </ul>
        </div>
    </div>

    <!-- –°–æ—Ü—Å–µ—Ç–∏ -->
    <div class="window" id="socials" style="top: 90px; left: 150px;">
        <div class="title-bar vapor-title" onmousedown="dragMouseDown(event, 'socials')">
            <div class="title-bar-text">Connection</div>
            <div class="title-bar-controls"><button onclick="closeWindow('socials')">X</button></div>
        </div>
        <div class="window-body">
            <p>üì° <a href="https://t.me/erridian" target="_blank">Telegram</a></p>
            <p>üñ≥ <a href="https://vk.com/erridian" target="_blank">VKontakte</a></p>
            <p>üíª <a href="https://github.com/erridian" target="_blank">GitHub</a></p>
        </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <div class="window" id="settings" style="top: 150px; left: 300px; width: 300px;">
        <div class="title-bar" onmousedown="dragMouseDown(event, 'settings')">
            <div class="title-bar-text">Display Properties</div>
            <div class="title-bar-controls"><button onclick="closeWindow('settings')">X</button></div>
        </div>
        <div class="window-body">
            <fieldset>
                <legend>Background Wallpaper</legend>
                <div class="radio-group">
                    <label><input type="radio" name="bg" value="theme-grid" checked onclick="setTheme('theme-grid')"> Vaporwave Grid 3D</label>
                    <label><input type="radio" name="bg" value="theme-pastel" onclick="setTheme('theme-pastel')"> Pastel Gradient</label>
                    <label><input type="radio" name="bg" value="theme-classic" onclick="setTheme('theme-classic')"> Windows Teal</label>
                    <label><input type="radio" name="bg" value="theme-night" onclick="setTheme('theme-night')"> Deep Night</label>
                </div>
            </fieldset>
            <div style="margin-top: 10px; text-align: center;">
                <button onclick="closeWindow('settings')" style="padding: 5px 20px;">OK</button>
            </div>
        </div>
    </div>

    <!-- –ü–ª–µ–µ—Ä (REAL Radio) -->
    <div class="window" id="player" style="top: 200px; left: 400px; width: 340px; background: #c0c0c0;">
        <div class="title-bar" style="background: #000080;" onmousedown="dragMouseDown(event, 'player')">
            <div class="title-bar-text">WinAmp - Stream Player</div>
            <div class="title-bar-controls"><button onclick="closeWindow('player')">X</button></div>
        </div>
        <div class="winamp-body">
            <div class="player-screen" id="player-screen">Ready to play...</div>
            <div class="player-controls">
                <button class="player-btn" onclick="playRadio('vapor')">Vapor</button>
                <button class="player-btn" onclick="playRadio('soviet')">Soviet</button>
                <button class="player-btn" onclick="playRadio('chiptune')">Chip</button>
                <button class="player-btn" onclick="playRadio('lofi')">Lofi</button>
                <button class="player-btn" style="color:red;" onclick="stopRadio()">STOP</button>
            </div>
            <div class="volume-control">
                <span>Vol:</span>
                <input type="range" min="0" max="1" step="0.05" value="0.5" oninput="setVolume(this.value)">
            </div>
        </div>
    </div>
    
    <!-- AUDIO ELEMENT -->
    <audio id="audio-player"></audio>

    <!-- –û—à–∏–±–∫–∞ -->
    <div class="window" id="error" style="top: 300px; left: 350px;">
        <div class="title-bar" style="background: red;" onmousedown="dragMouseDown(event, 'error')">
            <div class="title-bar-text">Critical Error</div>
            <div class="title-bar-controls"><button onclick="closeWindow('error')">X</button></div>
        </div>
        <div class="window-body" style="text-align: center;">
            <p>‚ö† –û—à–∏–±–∫–∞ 0xDEADBEEF</p>
            <button onclick="closeWindow('error')">OK</button>
        </div>
    </div>

    <!-- –ü–ê–ù–ï–õ–¨ –ó–ê–î–ê–ß -->
    <div class="taskbar" id="taskbar">
        <button class="start-btn" onclick="toggleStartMenu()">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Windows_95_logo_icon.svg/512px-Windows_95_logo_icon.svg.png" alt="logo">
            Start
        </button>
        <div style="width: 2px; height: 26px; border-left: 1px solid white; border-right: 1px solid gray; margin: 0 5px;"></div>
        <div class="clock" id="clock">12:00 PM</div>
    </div>

    <div class="start-menu" id="startMenu">
        <div class="sidebar"><span class="sidebar-text">ERRIDIAN 95</span></div>
        <div class="menu-items">
            <div class="menu-item" onclick="openWindow('about'); toggleStartMenu()">üìÇ –û —Å–µ–±–µ</div>
            <div class="menu-item" onclick="openWindow('projects'); toggleStartMenu()">üíª –ü—Ä–æ–µ–∫—Ç—ã</div>
            <div class="menu-item" onclick="openWindow('settings'); toggleStartMenu()">üì∫ –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="menu-item" onclick="openWindow('player'); toggleStartMenu()">üéµ –†–∞–¥–∏–æ</div>
            <hr style="width: 100%; border: 1px inset white;">
            <div class="menu-item" onclick="window.close()">üö™ –í—ã—Ö–æ–¥</div>
        </div>
    </div>

    <script>
        // --- BIOS ---
        const bootScreen = document.getElementById('boot-screen');
        const memoryCheckText = document.getElementById('memory-check');
        const biosDetails = document.getElementById('bios-details');
        const desktop = document.getElementById('desktop');
        const taskbar = document.getElementById('taskbar');

        const bootLines = [
            { text: "Detecting Primary Master ... Erridian HD 20GB", delay: 1000 },
            { text: "Detecting Secondary Master ... CD-ROM", delay: 1500 },
            { text: "Booting from Hard Disk...", delay: 2500 }
        ];

        function runBios() {
            let mem = 0;
            const memInterval = setInterval(() => {
                mem += 1024;
                if (mem >= 64512) {
                    mem = 64512;
                    memoryCheckText.innerText = "Memory Test: " + mem + " KB OK";
                    clearInterval(memInterval);
                    showBootLines();
                } else {
                    memoryCheckText.innerText = "Memory Test: " + mem + " KB";
                }
            }, 5);
        }

        function showBootLines() {
            bootLines.forEach(line => {
                setTimeout(() => {
                    biosDetails.innerHTML += '<div class="bios-text">' + line.text + '</div>';
                }, line.delay);
            });
            setTimeout(() => {
                bootScreen.style.display = 'none';
                desktop.style.opacity = 1;
                taskbar.style.opacity = 1;
                openWindow('about'); 
            }, 3500);
        }

        // --- THEME ---
        function setTheme(themeName) {
            document.getElementById('bg-layer').className = themeName; 
        }

        // --- REAL AUDIO PLAYER (Direct Stream) ---
        const audio = document.getElementById('audio-player');
        const screen = document.getElementById('player-screen');
        audio.volume = 0.5; // Default volume

        // –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ—Ç–æ–∫–∏ (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ HTTPS –¥–ª—è GitHub Pages)
        const stations = {
            'vapor': { url: 'https://radio.plaza.one/mp3', name: 'Nightwave Plaza' },
            'soviet': { url: 'https://radiorecord.hostingradio.ru/synth96.aacp', name: 'Record Synthwave' }, 
            'chiptune': { url: 'https://relay.rainwave.cc/chiptune.ogg?1:TjVColB3tE', name: 'CVGM.net Chiptune' }, 
            'lofi': { url: 'https://lofi.stream.laut.fm/lofi', name: 'Lofi 24/7' } 
        };

        function playRadio(genre) {
            const station = stations[genre];
            if(!station) return;

            screen.innerText = "Connecting...";
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–π
            audio.src = station.url;
            audio.play().then(() => {
                // –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫
                runMarquee("Playing: " + station.name + " (" + genre.toUpperCase() + ")");
            }).catch(e => {
                // –û—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∞–≤—Ç–æ–ø–ª–µ–π)
                screen.innerText = "Error: Click again";
                console.error(e);
            });
        }

        function stopRadio() {
            audio.pause();
            audio.src = "";
            screen.innerText = "Stopped.";
            if(window.marqueeInterval) clearInterval(window.marqueeInterval);
        }
        
        function setVolume(val) {
            audio.volume = val;
        }

        function runMarquee(text) {
            let marqueeText = text + "   ***   ";
            if(window.marqueeInterval) clearInterval(window.marqueeInterval);
            
            // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            screen.innerText = marqueeText;
            
            window.marqueeInterval = setInterval(function() {
                marqueeText = marqueeText.substring(1) + marqueeText[0];
                screen.innerText = marqueeText;
            }, 200);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ—Ç–æ–∫–∞
        audio.onerror = function() {
            screen.innerText = "Stream Error / Offline";
            if(window.marqueeInterval) clearInterval(window.marqueeInterval);
        };

        // --- WINDOW MANAGER ---
        let zIndex = 100;
        function openWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'flex';
            bringToFront(win);
        }
        function closeWindow(id) { document.getElementById(id).style.display = 'none'; }
        function bringToFront(el) {
            zIndex++; el.style.zIndex = zIndex;
            document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
            el.classList.add('active');
        }

        // --- DRAG N DROP ---
        function dragMouseDown(e, id) {
            e = e || window.event; e.preventDefault();
            const elmnt = document.getElementById(id);
            bringToFront(elmnt);
            let pos3 = e.clientX, pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;
            function elementDrag(e) {
                e = e || window.event; e.preventDefault();
                let pos1 = pos3 - e.clientX, pos2 = pos4 - e.clientY;
                pos3 = e.clientX; pos4 = e.clientY;
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }
            function closeDragElement() { document.onmouseup = null; document.onmousemove = null; }
        }

        // --- CLOCK & START ---
        function updateClock() {
            const now = new Date();
            let h = now.getHours(), m = String(now.getMinutes()).padStart(2, '0');
            let ampm = h >= 12 ? 'PM' : 'AM';
            h = h % 12 || 12;
            document.getElementById('clock').innerText = h + ":" + m + " " + ampm;
        }
        setInterval(updateClock, 1000);

        function toggleStartMenu() {
            const menu = document.getElementById('startMenu');
            const btn = document.querySelector('.start-btn');
            if (menu.style.display === 'flex') {
                menu.style.display = 'none'; btn.classList.remove('active');
            } else {
                menu.style.display = 'flex'; btn.classList.add('active');
            }
        }
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('startMenu'), btn = document.querySelector('.start-btn');
            if (!menu.contains(e.target) && !btn.contains(e.target)) {
                menu.style.display = 'none'; btn.classList.remove('active');
            }
        });

        window.onload = function() {
            runBios();
            updateClock();
        }
    </script>
</body>
</html>